<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Pagina Principal</title>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <link rel="stylesheet" href="../CSS/styles.css">
  <link rel="stylesheet" href="https://cdn.plyr.io/3.6.4/plyr.css">
  <script src="https://kit.fontawesome.com/8da1ffe54b.js" crossorigin="anonymous"></script>
</head>
<body>

  <header>
    <div class="logo">
      <a href="index 2.html"><img src="../media/logo.png" alt=""></a>
    </div>
    <div class="menu">
	    <div class="group">
        <svg class="icon" aria-hidden="true" viewBox="0 0 24 24"><g><path d="M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"></path></g></svg>
        <input placeholder="Buscar..." type="search" class="input">
      </div>
	 </div>
   <div>
    <button class="carrito">
      <a href="carrito.html"><img class="img" src="../media/IMG PRINCIPAL/cart-shopping-solid.svg"></a>
    </button>
   </div>
   <div class="perfil">
    <img src="../media/IMG PRINCIPAL/user-solid.svg">
    <ul>            
        <a href = "perfil.html"><li>Ver perfil</a></li></a>
        <a href = "EditarPerfilEmpresa.html"><li>Administrar</a></li></a>
        <a href = "productosAdmin.html"><li>Ingresar Productos</li> </a>  
        <a href = "Sesion.html"><li>Cerrar sesión</li> </a>  
    </ul>
    </div>
</header>
	<div>
      <nav>
          <ul>
            <li><a href="https://http.cat/status/404">Categorias</a></li>
            <li><a href="https://http.cat/status/404">Empresas</a></li>
            <li><a href="https://http.cat/status/404">Servicios</a></li>
            <li><a href="contacto.html">Contacto</a></li>
          </ul>
      </nav>
    </div>
    <div>
    
  <div id="a" class="otros_productos" >
    <script>
      // Función para obtener productos desde la API
      async function fetchProducts() {
          try {
              const response = await axios.get('http://localhost:3000/api/empresa/getempresa');
              console.log(response.data)
              return response.data;
          } catch (error) {
              console.error('Error fetching products:', error);
              return [];
          }
      }
    
      // Función para mostrar los productos en el HTML
      async function showProducts() {
          const empresa = await fetchProducts();
          const container = document.getElementById("a");
          container.innerHTML = ""; // Limpiar el contenedor
        
    
          empresa.forEach(function(empresa_doc) {
              const productHTML = `
                  <div class="card"><a href="DetalleProducto.html">
                    <div class="card-img"><img class="img" src="${empresa_doc.imageEmpresa}" alt="${empresa_doc.nombre}"></div>
                      <div class="card-info">
                          <p class="text-title">${empresa_doc.nombre}</p>
                          </div>
                          <div class="card-footer">
                          <span class="text-title">Email: ${empresa_doc.email}</span>
                        </div>
                      </div>
                  </div>
                </div></a></div>
              `;
              container.innerHTML += productHTML;
          });
      }
    
      // Llamar a la función para mostrar los productos cuando la página cargue
      window.onload = showProducts;
    </script>
      
  </div>
  </div>
</div>
      
    </div>
  </div>
</body>

</html>